"use strict";function _classCallCheck(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,i,t){return i&&_defineProperties(e.prototype,i),t&&_defineProperties(e,t),e}var Popup=function(){function e(i){var t=i.slide,r=i.overlay;_classCallCheck(this,e),this.slide=t,this.overlay=r}return _createClass(e,[{key:"showModal",value:function(e){this.overlay.append(e.cloneNode(!0)),this.overlay.classList.remove("overlay_hidden")}},{key:"closeModal",value:function(e){e.stopPropagation(),e.target.classList.contains("overlay")&&(this.overlay.innerHTML="",this.overlay.classList.add("overlay_hidden"))}}]),e}(),Slider=function(){function e(i){var t=i.root,r=i.sliderWrapper,s=i.slider,n=i.slides,l=i.slide,o=i.indicatorsBlock,d=i.overlay;_classCallCheck(this,e),this.currentSlide=1,this.root=t,this.sliderWrapper=r,this.slider=s,this.slides=n,this.slide=l,this.indicatorsBlock=o,this._renderStartIndicators(),this._resize(),this._reresize(),this._indicatorTaped(),this._showPopup(),this._closePopup(),this.popup=new Popup({slides:n,overlay:d})}return _createClass(e,[{key:"next",value:function(){this.currentSlide>=this.slides.length?this.currentSlide=1:this.currentSlide+=1,this._renderSlide(),this._rerenderIndicator(this.currentSlide)}},{key:"prev",value:function(){this.currentSlide<=1?this.currentSlide=this.slides.length:this.currentSlide-=1,this._renderSlide(),this._rerenderIndicator(this.currentSlide)}},{key:"_renderSlide",value:function(){this.slider.style.left=-(this.currentSlide-1)*this.slide.offsetWidth+"px"}},{key:"_renderStartIndicators",value:function(){this._clearIndicators();for(var e=0;e<this.slides.length;e++){var i=document.createElement("li");i.classList.add("slider__indicator"),0===e&&i.classList.add("slider__indicator_active"),i.setAttribute("data-indicator-id",e+1),this.indicatorsBlock.append(i)}}},{key:"_rerenderIndicator",value:function(e){for(var i=this.indicatorsBlock.children,t=0;t<i.length;t++){var r=i[t];r.getAttribute("data-indicator-id")==e?r.classList.add("slider__indicator_active"):r.classList.remove("slider__indicator_active")}}},{key:"_clearIndicators",value:function(){this.indicatorsBlock.textContent=""}},{key:"_resize",value:function(){var e=this;slides.forEach(function(i){i.style.width=e.sliderWrapper.offsetWidth+"px"})}},{key:"_reresize",value:function(){this.root.addEventListener("resize",this._resize.bind(this))}},{key:"_indicatorTaped",value:function(){for(var e=this,i=this.indicatorsBlock.children,t=function(t){var r=i[t],s=r.getAttribute("data-indicator-id");r.addEventListener("click",function(){e.currentSlide=parseInt(s),e._renderSlide(),e._rerenderIndicator(e.currentSlide)})},r=0;r<i.length;r++)t(r)}},{key:"_showPopup",value:function(){var e=this;slides.forEach(function(i){i.addEventListener("click",function(){return e.popup.showModal(i)})})}},{key:"_closePopup",value:function(){var e=this;overlay.addEventListener("click",function(i){e.popup.closeModal(i)})}}]),e}(),root=window,sliderWrapper=document.querySelector(".slider-wrapper"),slider=document.querySelector(".slider"),slides=document.querySelectorAll(".slide"),slide=document.querySelector(".slide"),overlay=document.querySelector(".overlay"),indicatorsBlock=document.querySelector(".slider__indicators"),btnNext=document.querySelector(".slider__btn-next"),btnPrev=document.querySelector(".slider__btn-prev"),mySlider=new Slider({root:root,sliderWrapper:sliderWrapper,slider:slider,slides:slides,slide:slide,indicatorsBlock:indicatorsBlock,overlay:overlay});btnNext.addEventListener("click",function(){mySlider.next()}),btnPrev.addEventListener("click",function(){mySlider.prev()});
//# sourceMappingURL=main.js.map
