{"version":3,"sources":["index.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","TypeError","iter","Object","toString","call","Array","from","isArray","i","arr2","length","_classCallCheck","instance","Constructor","_defineProperties","target","props","descriptor","enumerable","configurable","writable","defineProperty","key","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","_inherits","subClass","superClass","create","value","_setPrototypeOf","_wrapNativeSuper","Class","_cache","Map","undefined","_isNativeFunction","has","get","set","Wrapper","_construct","arguments","_getPrototypeOf","this","isNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","e","Parent","args","a","push","apply","Function","bind","fn","indexOf","o","p","setPrototypeOf","__proto__","getPrototypeOf","Card","_HTMLElement","_this","timerId","HTMLElement","_this2","title","getAttribute","desc","date","time","index","parseInt","cards","getAllCardsFromStorage","innerHTML","concat","setAttribute","addDataToStorage","renderDeadline","setInterval","deleteDataFromStorage","clearInterval","deadline","parse","now","seconds","Math","floor","minutes","hours","days","cardDay","querySelector","cardHours","cardMinutes","cardSecond","_this$calculateDeadli","calculateDeadline","updateBackground","card","classList","add","checkIsCard","localStorage","setItem","JSON","stringify","idx","findIndex","slice","getItem","deepEqual","obj1","obj2","Popup","_ref","popup","overlay","_togglePopup","isShow","remove","customElements","define","addBtn","document","closeBtn","titleInput","descInput","dateInput","timeInput","addTask","taskPopup","isEmptyField","_len","fields","_key","some","field","createCardWith","data","createElement","appendChild","addEventListener","show","hide","allcards","forEach"],"mappings":"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","file":"main.js","sourcesContent":["\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\n\nfunction isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _construct(Parent, args, Class) { if (isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar Card =\n/*#__PURE__*/\nfunction (_HTMLElement) {\n  _inherits(Card, _HTMLElement);\n\n  function Card() {\n    var _this;\n\n    _classCallCheck(this, Card);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Card).call(this));\n    _this.timerId = null;\n    return _this;\n  }\n\n  _createClass(Card, [{\n    key: \"connectedCallback\",\n    value: function connectedCallback() {\n      var _this2 = this;\n\n      var title = this.getAttribute('title');\n      var desc = this.getAttribute('desc');\n      var date = this.getAttribute('date');\n      var time = this.getAttribute('time');\n      var index = parseInt(this.getAttribute('index'));\n      var cards = this.getAllCardsFromStorage() || [];\n\n      if (!index) {\n        index = cards.length + 1;\n      }\n\n      this.innerHTML = \"\\n      <div class=\\\"card\\\">\\n        <div class=\\\"card__title\\\">\".concat(title, \"</div>\\n        <div class=\\\"card__desc\\\">\").concat(desc, \"</div>\\n        <div class=\\\"card__deadline\\\">\\n          \\u041E\\u0441\\u0442\\u0430\\u043B\\u043E\\u0441\\u044C: \\n          <span class=\\\"card__day\\\"></span> \\u0414\\u043D\\u044F\\n          <span class=\\\"card__hours\\\"></span> \\u0447\\u0430\\u0441\\u043E\\u0432\\n          <span class=\\\"card__minutes\\\"></span> \\u043C\\u0438\\u043D\\u0443\\u0442\\n          <span class=\\\"card__seconds\\\"></span> \\u0441\\u0435\\u043A\\u0443\\u043D\\u0434\\n        </div>\\n        <div class=\\\"card__delete\\\" onclick=\\\"this.parentNode.parentNode.remove()\\\" >\\n          \\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\\n        </div>\\n      </div>\\n    \");\n      this.setAttribute('index', index);\n      this.addDataToStorage({\n        index: index,\n        title: title,\n        desc: desc,\n        date: date,\n        time: time\n      });\n      this.renderDeadline(date, time);\n      this.timerId = setInterval(function () {\n        _this2.renderDeadline(date, time);\n      }, 1000);\n    }\n  }, {\n    key: \"disconnectedCallback\",\n    value: function disconnectedCallback() {\n      var index = parseInt(this.getAttribute('index'));\n      this.deleteDataFromStorage(index);\n      clearInterval(this.timerId);\n    }\n  }, {\n    key: \"calculateDeadline\",\n    value: function calculateDeadline(date, time) {\n      var deadline = Date.parse(\"\".concat(date, \" \").concat(time)) - Date.now();\n      var seconds = Math.floor(deadline / 1000 % 60);\n      var minutes = Math.floor((deadline - seconds) / (1000 * 60) % 60);\n      var hours = Math.floor((deadline - minutes) / (1000 * 60 * 60) % 24);\n      var days = Math.floor((deadline - hours) / (1000 * 60 * 60 * 24));\n      return {\n        days: days,\n        hours: hours,\n        minutes: minutes,\n        seconds: seconds\n      };\n    }\n  }, {\n    key: \"renderDeadline\",\n    value: function renderDeadline(date, time) {\n      var cardDay = this.querySelector('.card__day');\n      var cardHours = this.querySelector('.card__hours');\n      var cardMinutes = this.querySelector('.card__minutes');\n      var cardSecond = this.querySelector('.card__seconds');\n\n      var _this$calculateDeadli = this.calculateDeadline(date, time),\n          days = _this$calculateDeadli.days,\n          hours = _this$calculateDeadli.hours,\n          minutes = _this$calculateDeadli.minutes,\n          seconds = _this$calculateDeadli.seconds;\n\n      this.updateBackground(days);\n      cardDay.innerHTML = days;\n      cardHours.innerHTML = hours;\n      cardMinutes.innerHTML = minutes;\n      cardSecond.innerHTML = seconds;\n    }\n  }, {\n    key: \"updateBackground\",\n    value: function updateBackground(deadline) {\n      var card = this.querySelector('.card');\n\n      if (deadline == 0) {\n        card.classList.add('warning');\n      } else if (deadline < 0) {\n        card.classList.add('danger');\n      }\n    } // TODO: LocalStorage;\n\n  }, {\n    key: \"addDataToStorage\",\n    value: function addDataToStorage(card) {\n      var cards = this.getAllCardsFromStorage();\n      var isHasCard = this.checkIsCard(cards, card);\n\n      if (!isHasCard) {\n        localStorage.setItem('cards', JSON.stringify([].concat(_toConsumableArray(cards), [card])));\n      }\n    }\n  }, {\n    key: \"deleteDataFromStorage\",\n    value: function deleteDataFromStorage(index) {\n      var cards = this.getAllCardsFromStorage();\n      var idx = cards.findIndex(function (card) {\n        return card.index === index;\n      });\n      localStorage.setItem('cards', JSON.stringify([].concat(_toConsumableArray(cards.slice(0, idx)), _toConsumableArray(cards.slice(idx + 1)))));\n    }\n  }, {\n    key: \"getAllCardsFromStorage\",\n    value: function getAllCardsFromStorage() {\n      return JSON.parse(localStorage.getItem('cards')) || [];\n    } // TODO: Check methods\n\n  }, {\n    key: \"checkIsCard\",\n    value: function checkIsCard(cards, card) {\n      for (var i = 0; i < cards.length; i++) {\n        if (this.deepEqual(cards[i], card)) {\n          return true;\n        }\n      }\n\n      return false;\n    }\n  }, {\n    key: \"deepEqual\",\n    value: function deepEqual(obj1, obj2) {\n      return JSON.stringify({\n        index: obj1.index,\n        title: obj1.title,\n        desc: obj1.desc,\n        date: obj1.date,\n        time: obj1.time\n      }) === JSON.stringify({\n        index: obj2.index,\n        title: obj2.title,\n        desc: obj2.desc,\n        date: obj2.date,\n        time: obj2.time\n      });\n    }\n  }]);\n\n  return Card;\n}(_wrapNativeSuper(HTMLElement));\n\nvar Popup =\n/*#__PURE__*/\nfunction () {\n  function Popup(_ref) {\n    var popup = _ref.popup,\n        overlay = _ref.overlay;\n\n    _classCallCheck(this, Popup);\n\n    this.popup = popup;\n    this.overlay = overlay;\n  }\n\n  _createClass(Popup, [{\n    key: \"show\",\n    value: function show() {\n      this._togglePopup(true);\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      this._togglePopup(false);\n    }\n  }, {\n    key: \"_togglePopup\",\n    value: function _togglePopup(isShow) {\n      if (isShow) {\n        this.popup.classList.add('show');\n        this.overlay.classList.add('show');\n        this.popup.classList.remove('hide');\n        this.overlay.classList.remove('hide');\n      } else {\n        this.popup.classList.add('hide');\n        this.overlay.classList.add('hide');\n        this.popup.classList.remove('show');\n        this.overlay.classList.remove('show');\n      }\n    }\n  }]);\n\n  return Popup;\n}(); // 1) необходимо разработать пользовательский элемент,\n// который отображает кол-во дней минут и секунд до дедлайна и описание дедлайна\n// (что нужно сделать).\n// 2) необходимо добавить интерфейс, который позволит добавлять дедлайны\n// 3) дедлайны должны сохраняться в Localstorage в виде массива объектов и при обновлении\n// страницы отображаться\n// 5) необходимо добавить кнопку, которая будет удалять элемент с дедлайном из localstorage\n// 6)* при достижени дедлайна цвет заднего фона должен меняться от зеленого к красному.\n// (если есть еще сутки, то задний фон абсолютно зеленый, дедлайн просрочен, то абсолютно красный, переход должен быть постепенным).\n// 7)* необходимо помимо обычного добавления дз в репу git необходимо опубликовать дз\n// на github pages. Информацию о процессе можно погуглить\n\n\ncustomElements.define('new-card', Card);\nvar addBtn = document.querySelector('.add');\nvar overlay = document.querySelector('.overlay');\nvar popup = document.querySelector('.popup');\nvar closeBtn = document.querySelector('.popup__close');\nvar cards = document.querySelector('.deadlines');\nvar titleInput = document.querySelector('.popup__title');\nvar descInput = document.querySelector('.popup__desc');\nvar dateInput = document.querySelector('.popup__date');\nvar timeInput = document.querySelector('.popup__time');\nvar addTask = document.querySelector('.popup__btn');\nvar taskPopup = new Popup({\n  popup: popup,\n  overlay: overlay\n}); // Popup\n\naddBtn.addEventListener('click', function () {\n  taskPopup.show();\n});\ncloseBtn.addEventListener('click', function () {\n  taskPopup.hide();\n}); // Add task(card)\n\naddTask.addEventListener('click', function () {\n  if (isEmptyField(titleInput, descInput, dateInput, timeInput)) {\n    return;\n  }\n\n  createCardWith({\n    title: titleInput.value,\n    desc: descInput.value,\n    date: dateInput.value,\n    time: timeInput.value\n  });\n  taskPopup.hide();\n});\n\nfunction isEmptyField() {\n  for (var _len = arguments.length, fields = new Array(_len), _key = 0; _key < _len; _key++) {\n    fields[_key] = arguments[_key];\n  }\n\n  return fields.some(function (field) {\n    return field.value === '';\n  });\n}\n\nfunction createCardWith(data) {\n  var card = document.createElement('new-card');\n  card.setAttribute('title', data.title);\n  card.setAttribute('desc', data.desc);\n  card.setAttribute('date', data.date);\n  card.setAttribute('time', data.time);\n\n  if (data.index) {\n    card.setAttribute('index', data.index);\n  }\n\n  cards.appendChild(card);\n}\n\nvar allcards = JSON.parse(localStorage.getItem('cards')) || [];\nallcards.forEach(function (card) {\n  createCardWith({\n    index: card.index,\n    title: card.title,\n    desc: card.desc,\n    date: card.date,\n    time: card.time\n  });\n});"]}